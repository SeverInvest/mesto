(()=>{"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function t(e){var r,n,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e){"Escape"===e.key&&o.close()},(r="_handleEscClose")in this?Object.defineProperty(this,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[r]=n,this._popup=document.querySelector(e)}var r,n;return r=t,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_visible")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_visible")}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup_visible")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();const r={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_disabled",inputErrorClass:"form__input_type_error",errorClass:"error_visible",templateCardSelector:"#card",spanErrorSelector:".error",popupProfileSelector:".popup_type_profile",popupBigPhotoSelector:".popup_type_photo",popupCardSelector:".popup_type_card",popupCloseSelector:".popup__close",popupConfirmSelector:".popup_type_confirm",popupUpdateAvatar:".popup_type_upd-avatar",profileSelector:".traveler",profileButtonCorrectSelector:".traveler__button-correct",profileButtonUpdAvatarSelector:".traveler__change-avatar",inputProfileName:".form__input_type_name",inputProfileAbout:".form__input_type_about",buttonAddCardSelector:".traveler__button-add",listCardsSelector:".cards__list",profaleNameSelector:".traveler__name",profaleAboutSelector:".traveler__about",profaleAvatarSelector:".traveler__avatar",popupPictureSelector:".popup__photo",popupPictureTextSelector:".popup__photo-description"};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=a(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},i.apply(this,arguments)}function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,n,a,l,f=(a=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(a);if(l){var r=s(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return u(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=f.call(this,e))._popupPicture=t._popup.querySelector(r.popupPictureSelector),t._popupText=t._popup.querySelector(r.popupPictureTextSelector),t}return t=p,(n=[{key:"open",value:function(e){var t=e.name,r=e.link;i(s(p.prototype),"open",this).call(this),this._popupPicture.src=r,this._popupPicture.alt=t,this._popupText.textContent=t}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(t);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=d(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},h.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(c,e);var t,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(i){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return y(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,t))._handleSubmitClick=e,n._inputs={},n._inputList=Array.from(n._popup.querySelectorAll(r.inputSelector)),n._form=n._popup.querySelector(r.formSelector),n._buttonSubmitCreate="Создать",n}return t=c,(n=[{key:"setEventListeners",value:function(){var e=this;h(v(c.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){e._handleSubmitClick(t,e._getInputValues(),e._buttonSubmitCreate)}))}},{key:"_getInputValues",value:function(){var e=this;return this._inputList.forEach((function(t){e._inputs[t.name]=t.value})),this._inputs}},{key:"close",value:function(){h(v(c.prototype),"close",this).call(this),this._form.reset()}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(t);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=E(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},S.apply(this,arguments)}function E(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function g(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(c,e);var t,n,o,i,a=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(o);if(i){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return g(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,t))._popupForm=n._popup.querySelector(r.formSelector),n._handleSubmitDeleteCard=e,n}return t=c,(n=[{key:"setEventListeners",value:function(){var e=this;S(w(c.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){e._handleSubmitDeleteCard(t,e._card)}))}},{key:"open",value:function(e){S(w(c.prototype),"open",this).call(this),this._card=e}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(t);function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var P=function(){function e(t,r){var n=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=n,this._container=document.querySelector(r)}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"renderItems",value:function(e){var t=this;e.cards.forEach((function(e){t._renderer(e)}))}}])&&L(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=function(){function e(t,r,n,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._likes=t.likes,this._idOwner=t.owner._id,this._idCard=t._id,this._name=t.name,this._link=t.link,this._myId=a,this._handleCardClick=n,this._handleToggleLike=o,this._handleOpenPopupWithConfirm=i,this._templateCardSelector=r,this._cardElement=this._getTemplate(),this._photo=this._cardElement.querySelector(".card__photo"),this._heart=this._cardElement.querySelector(".card__heart"),this._count_likes=this._cardElement.querySelector(".card__count-likes"),this._description=this._cardElement.querySelector(".card__description"),this._remove_button=this._cardElement.querySelector(".card__remove-button")}var t,r;return t=e,(r=[{key:"_countLikes",value:function(){return Object.keys(this._likes).length}},{key:"_isMyLike",value:function(){var e=this;return 0!==this._likes.length&&this._likes.some((function(t){return t._id===e._myId}))}},{key:"_setLike",value:function(){this._isMyLike(this._likes)?this._heart.classList.add("card__heart_active"):this._heart.classList.remove("card__heart_active"),this._count_likes.textContent=this._countLikes(this._likes)}},{key:"setLikes",value:function(e){this._likes=e}},{key:"_getTemplate",value:function(){return document.querySelector(this._templateCardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_toggleLike",value:function(){return this._isMyLike(this._likes)?this._methodCardLike="DELETE":this._methodCardLike="PUT",this._handleToggleLike({idCard:this._idCard,methodCardLike:this._methodCardLike,card:this})}},{key:"deleteCard",value:function(){this._cardElement.remove(),this._cardElement=null}},{key:"_setEventListeners",value:function(){var e=this;this._photo.addEventListener("click",(function(){e._handleCardClick({name:e._name,link:e._link})})),this._heart.addEventListener("click",(function(){return e._toggleLike()})),this._remove_button.addEventListener("click",(function(){return e._handleOpenPopupWithConfirm(e)}))}},{key:"createCard",value:function(){return this._description.textContent=this._name,this._photo.src=this._link,this._photo.alt=this._name,this._count_likes.textContent=this._countLikes(this._likes),this._setLike(this._likes),this._idOwner===this._myId&&this._remove_button.classList.add("card__remove-button_visible"),this._setEventListeners(),this._cardElement}}])&&j(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._params=t,this._formElement=r,this._errorList=r.querySelectorAll(t.spanErrorSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._params.inputSelector)),this._buttonElement=this._formElement.querySelector(this._params.submitButtonSelector)}var t,r;return t=e,(r=[{key:"_addClassError",value:function(e){e.classList.remove(this._params.inputErrorClass)}},{key:"_removeClassError",value:function(e){e.classList.remove(this._params.inputErrorClass)}},{key:"_addValidationErrors",value:function(e,t){e.classList.add(this._params.errorClass),e.textContent=t}},{key:"_removeValidationErrors",value:function(e){e.textContent="",e.classList.remove(this._params.errorClass)}},{key:"_showInputError",value:function(e,t){var r=this._formElement.querySelector("#".concat(e.id,"-error"));this._addClassError(e),this._addValidationErrors(r,t)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));this._removeClassError(e),this._removeValidationErrors(t)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._buttonElement.disabled=this._hasInvalidInput(),this._hasInvalidInput()?this._buttonElement.classList.add(this._params.inactiveButtonClass):this._buttonElement.classList.remove(this._params.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"clearErrors",value:function(){var e=this;this._inputList.forEach((function(t){e._removeClassError(t)})),this._toggleButtonState(),this._errorList.forEach((function(t){return e._removeValidationErrors(t)}))}}])&&q(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var R=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(t),this._profileAbout=document.querySelector(r),this._profileAvatar=document.querySelector(n),this._myId=""}var t,r;return t=e,(r=[{key:"getUserInfo",value:function(){return{profileName:this._profileName.textContent,profileAbout:this._profileAbout.textContent,myId:this._myId}}},{key:"setUserInfo",value:function(e){var t=e.name,r=e.about,n=e.myId,o=void 0===n?"":n;t&&(this._profileName.textContent=t),r&&(this._profileAbout.textContent=r),this._myId||(this._myId=o)}},{key:"renderAvatar",value:function(e){e&&(this._profileAvatar.src=e)}},{key:"renderUserInfo",value:function(e){this.setUserInfo({name:e.name,about:e.about,myId:e.myId}),this.renderAvatar(e.avatar)}}])&&T(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._connect=t}var t,r;return t=e,(r=[{key:"_onError",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._connect.baseUrl,"/cards"),{method:"GET",headers:this._connect.headers}).then(this._onError)}},{key:"getUser",value:function(){return fetch("".concat(this._connect.baseUrl,"/users/me"),{method:"GET",headers:this._connect.headers}).then(this._onError)}},{key:"getInitialData",value:function(){return Promise.all([this.getUser(),this.getInitialCards()])}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._connect.baseUrl,"/users/me"),{method:"PATCH",headers:this._connect.headers,body:JSON.stringify(e)}).then(this._onError)}},{key:"setCard",value:function(e){return fetch("".concat(this._connect.baseUrl,"/cards"),{method:"POST",headers:this._connect.headers,body:JSON.stringify(e)}).then(this._onError)}},{key:"toggleLikeCard",value:function(e){var t=e.idCard,r=e.methodCardLike;return fetch("".concat(this._connect.baseUrl,"/cards/").concat(t,"/likes"),{method:r,headers:this._connect.headers}).then(this._onError)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._connect.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._connect.headers}).then(this._onError)}},{key:"setAvatar",value:function(e){return fetch("".concat(this._connect.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._connect.headers,body:JSON.stringify(e)}).then(this._onError)}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t,n){e.querySelector(r.submitButtonSelector).textContent=t?"Сохранение...":n}var D=new R(r.profaleNameSelector,r.profaleAboutSelector,r.profaleAvatarSelector),N=document.querySelector(r.listCardsSelector),V=new P({renderer:function(e){V.addItem(K(e))}},r.listCardsSelector);function M(e){console.log(e)}var J=new x({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"79dea315-f51a-42c0-8f7a-17f645a07cb4","Content-Type":"application/json"}});J.getInitialData().then((function(e){D.renderUserInfo({name:e[0].name,about:e[0].about,myId:e[0]._id,avatar:e[0].avatar}),V.renderItems({cards:e[1]})})).catch((function(e){return M(e)}));var F=new m((function(e,t,r){e.preventDefault(),B(ie,!0,r),J.setAvatar(t).then((function(e){var t=e.avatar;D.renderAvatar(t)})).catch((function(e){return M(e)})).finally((function(){F.close(),B(ie,!1,r)}))}),r.popupUpdateAvatar);F.setEventListeners();var G=new l(r.popupBigPhotoSelector);function H(e){W.open(e)}G.setEventListeners();var W=new O((function(e,t){e.preventDefault(),J.deleteCard(t._idCard).then((function(e){(e.message="Пост удалён")&&t.deleteCard()})).catch((function(e){M(e)})).finally((function(){W.close()}))}),r.popupConfirmSelector);function z(e){G.open(e)}function K(e){return new I(e,r.templateCardSelector,z,Y,H,D.getUserInfo().myId).createCard()}W.setEventListeners();var Q=new m((function(e,t,r){e.preventDefault(),B(ne,!0,r),J.setCard(t).then((function(e){var t;t=K(e),N.prepend(t)})).catch((function(e){return M(e)})).finally((function(){Q.close(),B(ne,!1,r)}))}),r.popupCardSelector);Q.setEventListeners(),document.querySelector(r.buttonAddCardSelector).addEventListener("click",(function(){ue.clearErrors(),Q.open()}));var X=new m((function(e,t,r){e.preventDefault(),B(Z,!0,r),J.setUserInfo(t).then((function(e){D.setUserInfo(e)})).catch((function(e){return M(e)})).finally((function(){X.close(),B(Z,!1,r)}))}),r.popupProfileSelector);function Y(e){J.toggleLikeCard(e).then((function(t){e.card.setLikes(t.likes),e.card._setLike()})).catch((function(e){M(e)}))}X.setEventListeners();var Z=document.querySelector(r.popupProfileSelector),$=Z.querySelector(r.formSelector),ee=$.querySelector(r.inputProfileName),te=$.querySelector(r.inputProfileAbout),re=document.querySelector(r.profileSelector);re.querySelector(r.profileButtonCorrectSelector).addEventListener("click",(function(){var e=D.getUserInfo();ee.value=e.profileName,te.value=e.profileAbout,ce.clearErrors(),X.open()})),re.querySelector(r.profileButtonUpdAvatarSelector).addEventListener("click",(function(){se.clearErrors(),F.open()}));var ne=document.querySelector(r.popupCardSelector),oe=ne.querySelector(r.formSelector),ie=document.querySelector(r.popupUpdateAvatar),ae=ie.querySelector(r.formSelector),ce=new A(r,$),ue=new A(r,oe),se=new A(r,ae);ce.enableValidation(),ue.enableValidation(),se.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckN6SCxHQUFrQjhCLE1BQVFtSyxFQUFZdkUsYUFDdEN3RSxHQUFvQlIsY0FDcEJDLEVBQWlCWixNQUNuQixJQVU0QmlCLEdBQVEzTixjQUFjcUMsRUFBQUEsZ0NBQzlCcEMsaUJBQWlCLFNBVHJDLFdBQ0U2TixHQUFtQlQsY0FDbkJsQixFQUFlTyxNQUNqQixJQVFBLElBQU1PLEdBQVlsTixTQUFTQyxjQUFjcUMsRUFBQUEsbUJBQ25DMEwsR0FBV2QsR0FBVWpOLGNBQWNxQyxFQUFBQSxjQUNuQytKLEdBQWNyTSxTQUFTQyxjQUFjcUMsRUFBQUEsbUJBQ3JDMkwsR0FBcUI1QixHQUFZcE0sY0FBY3FDLEVBQUFBLGNBRS9Dd0wsR0FBc0IsSUFBSXpHLEVBQWMvRSxFQUFRcUwsR0FDaEROLEdBQW1CLElBQUloRyxFQUFjL0UsRUFBUTBMLElBQzdDRCxHQUFxQixJQUFJMUcsRUFBYy9FLEVBQVEyTCxJQUNyREgsR0FBb0JJLG1CQUNwQmIsR0FBaUJhLG1CQUNqQkgsR0FBbUJHLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9wYXJhbXMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29ubmVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfTtcblxuICBvcGVuKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfdmlzaWJsZScpO1xuICB9O1xuXG4gIGNsb3NlKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfdmlzaWJsZScpO1xuICB9O1xuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9O1xuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfdmlzaWJsZScpKSB8fCAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQQVJBTVMgPSB7XG4gICAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICAgIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX3N1Ym1pdCcsXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX3N1Ym1pdF9kaXNhYmxlZCcsXG4gICAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gICAgZXJyb3JDbGFzczogJ2Vycm9yX3Zpc2libGUnLFxuICAgIHRlbXBsYXRlQ2FyZFNlbGVjdG9yOiAnI2NhcmQnLFxuICAgIHNwYW5FcnJvclNlbGVjdG9yOiAnLmVycm9yJyxcbiAgICBwb3B1cFByb2ZpbGVTZWxlY3RvcjogJy5wb3B1cF90eXBlX3Byb2ZpbGUnLFxuICAgIHBvcHVwQmlnUGhvdG9TZWxlY3RvcjogJy5wb3B1cF90eXBlX3Bob3RvJyxcbiAgICBwb3B1cENhcmRTZWxlY3RvcjogJy5wb3B1cF90eXBlX2NhcmQnLFxuICAgIHBvcHVwQ2xvc2VTZWxlY3RvcjogJy5wb3B1cF9fY2xvc2UnLFxuICAgIHBvcHVwQ29uZmlybVNlbGVjdG9yOiAnLnBvcHVwX3R5cGVfY29uZmlybScsXG4gICAgcG9wdXBVcGRhdGVBdmF0YXI6ICcucG9wdXBfdHlwZV91cGQtYXZhdGFyJyxcbiAgICBwcm9maWxlU2VsZWN0b3I6ICcudHJhdmVsZXInLFxuICAgIHByb2ZpbGVCdXR0b25Db3JyZWN0U2VsZWN0b3I6ICcudHJhdmVsZXJfX2J1dHRvbi1jb3JyZWN0JyxcbiAgICBwcm9maWxlQnV0dG9uVXBkQXZhdGFyU2VsZWN0b3I6ICcudHJhdmVsZXJfX2NoYW5nZS1hdmF0YXInLFxuICAgIGlucHV0UHJvZmlsZU5hbWU6ICcuZm9ybV9faW5wdXRfdHlwZV9uYW1lJyxcbiAgICBpbnB1dFByb2ZpbGVBYm91dDogJy5mb3JtX19pbnB1dF90eXBlX2Fib3V0JyxcbiAgICBidXR0b25BZGRDYXJkU2VsZWN0b3I6ICcudHJhdmVsZXJfX2J1dHRvbi1hZGQnLFxuICAgIGxpc3RDYXJkc1NlbGVjdG9yOiAnLmNhcmRzX19saXN0JyxcbiAgICBwcm9mYWxlTmFtZVNlbGVjdG9yOiAnLnRyYXZlbGVyX19uYW1lJyxcbiAgICBwcm9mYWxlQWJvdXRTZWxlY3RvcjogJy50cmF2ZWxlcl9fYWJvdXQnLFxuICAgIHByb2ZhbGVBdmF0YXJTZWxlY3RvcjogJy50cmF2ZWxlcl9fYXZhdGFyJyxcbiAgICBwb3B1cFBpY3R1cmVTZWxlY3RvcjogJy5wb3B1cF9fcGhvdG8nLFxuICAgIHBvcHVwUGljdHVyZVRleHRTZWxlY3RvcjogJy5wb3B1cF9fcGhvdG8tZGVzY3JpcHRpb24nXG4gIH07XG4gIGV4cG9ydCBkZWZhdWx0IFBBUkFNUzsiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmltcG9ydCBQQVJBTVMgZnJvbSAnLi4vdXRpbHMvcGFyYW1zLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cFBpY3R1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFBBUkFNUy5wb3B1cFBpY3R1cmVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBUZXh0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihQQVJBTVMucG9wdXBQaWN0dXJlVGV4dFNlbGVjdG9yKTtcbiAgfTtcblxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwUGljdHVyZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3BvcHVwUGljdHVyZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwVGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XG4gIH07XG5cbn0iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmltcG9ydCBQQVJBTVMgZnJvbSAnLi4vdXRpbHMvcGFyYW1zLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoaGFuZGxlU3VibWl0Q2xpY2ssIHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRDbGljayA9IGhhbmRsZVN1Ym1pdENsaWNrO1xuICAgIHRoaXMuX2lucHV0cyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChQQVJBTVMuaW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFBBUkFNUy5mb3JtU2VsZWN0b3IpO1xuICAgIHRoaXMuX2J1dHRvblN1Ym1pdENyZWF0ZSA9IFwi0KHQvtC30LTQsNGC0YxcIjtcbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdENsaWNrKFxuICAgICAgICBldnQsXG4gICAgICAgIHRoaXMuX2dldElucHV0VmFsdWVzKCksXG4gICAgICAgIHRoaXMuX2J1dHRvblN1Ym1pdENyZWF0ZVxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0XG4gICAgICAuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgdGhpcy5faW5wdXRzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRzO1xuICB9O1xuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xuICB9O1xuXG59OyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuaW1wb3J0IFBBUkFNUyBmcm9tICcuLi91dGlscy9wYXJhbXMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihoYW5kbGVTdWJtaXREZWxldGVDYXJkLCBwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihQQVJBTVMuZm9ybVNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXREZWxldGVDYXJkID0gaGFuZGxlU3VibWl0RGVsZXRlQ2FyZDtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdERlbGV0ZUNhcmQoZXZ0LCB0aGlzLl9jYXJkKTtcbiAgICB9KTtcbiAgfTtcblxuICBvcGVuKGNhcmQpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XG4gIH07XG5cbn0iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfTtcblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9O1xuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuY2FyZHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBvYmpDYXJkLFxuICAgIHRlbXBsYXRlQ2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVUb2dnbGVMaWtlLFxuICAgIGhhbmRsZU9wZW5Qb3B1cFdpdGhDb25maXJtLFxuICAgIG15SWQpIHtcbiAgICB0aGlzLl9saWtlcyA9IG9iakNhcmQubGlrZXM7IC8v0LzQsNGB0YHQuNCyINC+0LHRitC10LrRgtC+0LIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10LksINC/0L7RgdGC0LDQstC40LLRiNC40YUg0LvQsNC50LpcbiAgICB0aGlzLl9pZE93bmVyID0gb2JqQ2FyZC5vd25lci5faWQ7IC8vaWQg0YHQvtCx0YHRgtCy0LXQvdC90LjQutCwINGE0L7RgtC+XG4gICAgdGhpcy5faWRDYXJkID0gb2JqQ2FyZC5faWQ7Ly8gaWQg0LrQsNGA0YLQvtGH0LrQuFxuICAgIHRoaXMuX25hbWUgPSBvYmpDYXJkLm5hbWU7Ly8g0L3QsNC40LzQtdC90L7QstCw0L3QuNC1INGE0L7RgtC+XG4gICAgdGhpcy5fbGluayA9IG9iakNhcmQubGluazsvL9GB0YHRi9C70LrQsCDQvdCwINGE0L7RgtC+XG4gICAgdGhpcy5fbXlJZCA9IG15SWQ7IC8v0LzQvtC5IGlkXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZVRvZ2dsZUxpa2UgPSBoYW5kbGVUb2dnbGVMaWtlO1xuICAgIHRoaXMuX2hhbmRsZU9wZW5Qb3B1cFdpdGhDb25maXJtID0gaGFuZGxlT3BlblBvcHVwV2l0aENvbmZpcm07XG4gICAgdGhpcy5fdGVtcGxhdGVDYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZUNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fcGhvdG8gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fcGhvdG8nKTtcbiAgICB0aGlzLl9oZWFydCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19oZWFydCcpO1xuICAgIHRoaXMuX2NvdW50X2xpa2VzID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2NvdW50LWxpa2VzJyk7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVzY3JpcHRpb24nKTtcbiAgICB0aGlzLl9yZW1vdmVfYnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3JlbW92ZS1idXR0b24nKTtcbiAgfTtcblxuICBfY291bnRMaWtlcygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fbGlrZXMpLmxlbmd0aDtcbiAgfTtcblxuICBfaXNNeUxpa2UoKSB7XG4gICAgaWYgKHRoaXMuX2xpa2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZShpdGVtID0+IGl0ZW0uX2lkID09PSB0aGlzLl9teUlkKVxuICB9O1xuXG4gIF9zZXRMaWtlKCkge1xuXG4gICAgaWYgKHRoaXMuX2lzTXlMaWtlKHRoaXMuX2xpa2VzKSkge1xuICAgICAgdGhpcy5faGVhcnQuY2xhc3NMaXN0LmFkZCgnY2FyZF9faGVhcnRfYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hlYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2hlYXJ0X2FjdGl2ZScpO1xuICAgIH1cbiAgICB0aGlzLl9jb3VudF9saWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2NvdW50TGlrZXModGhpcy5fbGlrZXMpO1xuICB9O1xuXG4gIHNldExpa2VzKGFyckxpa2VzKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBhcnJMaWtlcztcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZUNhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmNhcmQnKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH07XG5cbiAgX3RvZ2dsZUxpa2UoKSB7XG4gICAgaWYgKCF0aGlzLl9pc015TGlrZSh0aGlzLl9saWtlcykpIHtcbiAgICAgIHRoaXMuX21ldGhvZENhcmRMaWtlID0gXCJQVVRcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbWV0aG9kQ2FyZExpa2UgPSBcIkRFTEVURVwiO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faGFuZGxlVG9nZ2xlTGlrZSh7XG4gICAgICBpZENhcmQ6IHRoaXMuX2lkQ2FyZCxcbiAgICAgIG1ldGhvZENhcmRMaWtlOiB0aGlzLl9tZXRob2RDYXJkTGlrZSxcbiAgICAgIGNhcmQ6IHRoaXNcbiAgICB9KVxuICB9O1xuXG4gIGRlbGV0ZUNhcmQoKSB7XG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG5cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9waG90by5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7ICduYW1lJzogdGhpcy5fbmFtZSwgJ2xpbmsnOiB0aGlzLl9saW5rIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX2hlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fdG9nZ2xlTGlrZSgpKTtcbiAgICB0aGlzLl9yZW1vdmVfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlT3BlblBvcHVwV2l0aENvbmZpcm0odGhpcykpO1xuICB9XG5cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fcGhvdG8uc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9waG90by5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NvdW50X2xpa2VzLnRleHRDb250ZW50ID0gdGhpcy5fY291bnRMaWtlcyh0aGlzLl9saWtlcyk7XG4gICAgdGhpcy5fc2V0TGlrZSh0aGlzLl9saWtlcyk7XG4gICAgaWYgKHRoaXMuX2lkT3duZXIgPT09IHRoaXMuX215SWQpIHtcbiAgICAgIHRoaXMuX3JlbW92ZV9idXR0b24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fcmVtb3ZlLWJ1dHRvbl92aXNpYmxlJyk7XG4gICAgfVxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IocGFyYW1zLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3BhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2Vycm9yTGlzdCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyYW1zLnNwYW5FcnJvclNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fcGFyYW1zLmlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9wYXJhbXMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9O1xuXG4gIF9hZGRDbGFzc0Vycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3BhcmFtcy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9yZW1vdmVDbGFzc0Vycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3BhcmFtcy5pbnB1dEVycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9hZGRWYWxpZGF0aW9uRXJyb3JzKGVycm9yRWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fcGFyYW1zLmVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgfTtcblxuICBfcmVtb3ZlVmFsaWRhdGlvbkVycm9ycyhlcnJvckVsZW1lbnQpIHtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJ1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3BhcmFtcy5lcnJvckNsYXNzKTtcbiAgfTtcblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgdGhpcy5fYWRkQ2xhc3NFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIHRoaXMuX2FkZFZhbGlkYXRpb25FcnJvcnMoZXJyb3JFbGVtZW50LCBlcnJvck1lc3NhZ2UpO1xuICB9O1xuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgdGhpcy5fcmVtb3ZlQ2xhc3NFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIHRoaXMuX3JlbW92ZVZhbGlkYXRpb25FcnJvcnMoZXJyb3JFbGVtZW50KTtcbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdGhpcy5faGFzSW52YWxpZElucHV0KCk7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fcGFyYW1zLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fcGFyYW1zLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9O1xuXG4gIGNsZWFyRXJyb3JzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX3JlbW92ZUNsYXNzRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpXG4gICAgdGhpcy5fZXJyb3JMaXN0LmZvckVhY2goKGVycm9yRWxlbWVudCkgPT4gdGhpcy5fcmVtb3ZlVmFsaWRhdGlvbkVycm9ycyhlcnJvckVsZW1lbnQpKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IocHJvZmlsZU5hbWVTZWxlY3RvciwgcHJvZmlsZUFib3V0U2VsZWN0b3IsIHByb2ZpbGVBdmF0YXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBYm91dFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyU2VsZWN0b3IpO1xuICAgIHRoaXMuX215SWQgPSBcIlwiO1xuICB9O1xuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9maWxlTmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICBwcm9maWxlQWJvdXQ6IHRoaXMuX3Byb2ZpbGVBYm91dC50ZXh0Q29udGVudCxcbiAgICAgIG15SWQ6IHRoaXMuX215SWQsXG4gICAgfTtcbiAgfTtcblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0LCBteUlkID0gXCJcIiB9KSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB9O1xuICAgIGlmIChhYm91dCkge1xuICAgICAgdGhpcy5fcHJvZmlsZUFib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgfTtcbiAgICBpZiAoIXRoaXMuX215SWQpIHsgdGhpcy5fbXlJZCA9IG15SWQgfTtcbiAgfTtcblxuICByZW5kZXJBdmF0YXIobGluaykge1xuICAgIGlmIChsaW5rKSB7XG4gICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IGxpbmtcbiAgICB9O1xuICB9XG5cbiAgcmVuZGVyVXNlckluZm8oaW5mbykge1xuICAgIHRoaXMuc2V0VXNlckluZm8oeyBuYW1lOiBpbmZvLm5hbWUsIGFib3V0OiBpbmZvLmFib3V0LCBteUlkOiBpbmZvLm15SWQgfSk7XG4gICAgdGhpcy5yZW5kZXJBdmF0YXIoaW5mby5hdmF0YXIpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0KSB7XG4gICAgdGhpcy5fY29ubmVjdCA9IGNvbm5lY3Q7XG4gIH1cblxuICBfb25FcnJvcihyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0Lm9rKSB7XG4gICAgICByZXR1cm4gcmVzdWx0Lmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzdWx0LnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fY29ubmVjdC5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2Nvbm5lY3QuaGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9vbkVycm9yKVxuICB9XG5cbiAgZ2V0VXNlcigpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fY29ubmVjdC5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2Nvbm5lY3QuaGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9vbkVycm9yKVxuICB9XG5cbiAgZ2V0SW5pdGlhbERhdGEoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXIoKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIH1cblxuICBzZXRVc2VySW5mbyhpbmZvKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Nvbm5lY3QuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9jb25uZWN0LmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbmZvKVxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9vbkVycm9yKVxuICB9XG5cbiAgc2V0Q2FyZChpbmZvKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Nvbm5lY3QuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fY29ubmVjdC5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoaW5mbylcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fb25FcnJvcilcbiAgfVxuXG4gIHRvZ2dsZUxpa2VDYXJkKHsgaWRDYXJkLCBtZXRob2RDYXJkTGlrZSB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Nvbm5lY3QuYmFzZVVybH0vY2FyZHMvJHtpZENhcmR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBtZXRob2RDYXJkTGlrZSxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2Nvbm5lY3QuaGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9vbkVycm9yKVxuICB9XG5cbiAgZGVsZXRlQ2FyZChpZENhcmQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fY29ubmVjdC5iYXNlVXJsfS9jYXJkcy8ke2lkQ2FyZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9jb25uZWN0LmhlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5fb25FcnJvcilcbiAgfVxuXG4gIHNldEF2YXRhcihpbmZvKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Nvbm5lY3QuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9jb25uZWN0LmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbmZvKVxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9vbkVycm9yKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTsiLCJpbXBvcnQgUEFSQU1TIGZyb20gXCIuL3BhcmFtcy5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTG9hZGluZyhwb3B1cCwgaXNQcm9jZXNzLCBidXR0b25TdWJtaXRUZXh0KSB7XG4gICAgY29uc3QgYnV0dG9uU3VibWl0ID0gcG9wdXAucXVlcnlTZWxlY3RvcihQQVJBTVMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIGlmIChpc1Byb2Nlc3MpIHtcbiAgICAgIGJ1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uU3VibWl0LnRleHRDb250ZW50ID0gYnV0dG9uU3VibWl0VGV4dDtcbiAgICB9XG4gIH0iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBQQVJBTVMgZnJvbSAnLi4vdXRpbHMvcGFyYW1zLmpzJztcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgY29ubmVjdCBmcm9tIFwiLi4vdXRpbHMvY29ubmVjdC5qc1wiO1xuaW1wb3J0IHsgcmVuZGVyTG9hZGluZyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcbiAgUEFSQU1TLnByb2ZhbGVOYW1lU2VsZWN0b3IsXG4gIFBBUkFNUy5wcm9mYWxlQWJvdXRTZWxlY3RvcixcbiAgUEFSQU1TLnByb2ZhbGVBdmF0YXJTZWxlY3Rvcik7XG5cbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLmxpc3RDYXJkc1NlbGVjdG9yKTtcblxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiBkYXRhID0+IHtcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZU5ld0NhcmQoZGF0YSkpO1xuICB9XG59LFxuICBQQVJBTVMubGlzdENhcmRzU2VsZWN0b3Jcbik7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZXJyb3IpIHtcbiAgY29uc29sZS5sb2coZXJyb3IpO1xufVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGNvbm5lY3QpO1xuYXBpLmdldEluaXRpYWxEYXRhKClcbiAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICB1c2VySW5mby5yZW5kZXJVc2VySW5mbyh7XG4gICAgICBuYW1lOiBkYXRhWzBdLm5hbWUsXG4gICAgICBhYm91dDogZGF0YVswXS5hYm91dCxcbiAgICAgIG15SWQ6IGRhdGFbMF0uX2lkLFxuICAgICAgYXZhdGFyOiBkYXRhWzBdLmF2YXRhclxuICAgIH0pO1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKHtcbiAgICAgIGNhcmRzOiBkYXRhWzFdXG4gICAgfSlcbiAgfSlcbiAgLmNhdGNoKChlcnJvcikgPT4gaXNFcnJvcihlcnJvcikpXG5cbi8v0KHQvtC30LTQsNC10Lwg0Y3QutC30LXQvNC/0LvRj9GAINC60LvQsNGB0YHQsCDQv9C+0L/QsNC/0LAg0LjQt9C80LXQvdC10L3QuNGPINCw0LLQsNGC0LDRgNCwXG5jb25zdCBwb3B1cFVwZEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKGhhbmRsZVN1Ym1pdEF2YXRhciwgUEFSQU1TLnBvcHVwVXBkYXRlQXZhdGFyKTtcbnBvcHVwVXBkQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdEF2YXRhcihldnQsIGxpbmssIGJ1dHRvblN1Ym1pdFRleHQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHJlbmRlckxvYWRpbmcoYXZhdGFyUG9wdXAsIHRydWUsIGJ1dHRvblN1Ym1pdFRleHQpXG4gIGFwaS5zZXRBdmF0YXIobGluaylcbiAgICAudGhlbigoeyBhdmF0YXIgfSkgPT4ge1xuICAgICAgdXNlckluZm8ucmVuZGVyQXZhdGFyKGF2YXRhcilcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGlzRXJyb3IoZXJyb3IpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwVXBkQXZhdGFyLmNsb3NlKClcbiAgICAgIHJlbmRlckxvYWRpbmcoYXZhdGFyUG9wdXAsIGZhbHNlLCBidXR0b25TdWJtaXRUZXh0KVxuICAgIH0pXG59XG5cbi8vINCh0L7Qt9C00LDRkdC8INGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAg0L/QvtC/0LDQv9CwINC90LAg0L/QvtC70L3Ri9C5INGN0LrRgNCw0L1cbmNvbnN0IHBvcHVwRnVsbFNjcmVlbiA9IG5ldyBQb3B1cFdpdGhJbWFnZShQQVJBTVMucG9wdXBCaWdQaG90b1NlbGVjdG9yKTtcbnBvcHVwRnVsbFNjcmVlbi5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVPcGVuUG9wdXBXaXRoQ29uZmlybShjYXJkKSB7XG4gIHBvcHVwQ29uZmlybURlbGV0ZUNhcmQub3BlbihjYXJkKTtcbn07XG5cbmNvbnN0IHBvcHVwQ29uZmlybURlbGV0ZUNhcmQgPSBuZXcgUG9wdXBXaXRoQ29uZmlybShcbiAgaGFuZGxlU3VibWl0RGVsZXRlQ2FyZCxcbiAgUEFSQU1TLnBvcHVwQ29uZmlybVNlbGVjdG9yXG4pO1xuXG5wb3B1cENvbmZpcm1EZWxldGVDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdERlbGV0ZUNhcmQoZXZ0LCBjYXJkKSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhcGkuZGVsZXRlQ2FyZChjYXJkLl9pZENhcmQpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSA9IFwi0J/QvtGB0YIg0YPQtNCw0LvRkdC9XCIpIHtcbiAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICB9XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBpc0Vycm9yKGVycm9yKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwQ29uZmlybURlbGV0ZUNhcmQuY2xvc2UoKVxuICAgIH0pXG59O1xuXG4vLyDQntCx0YrRj9Cy0LvRj9C10Lwg0YTRg9C90LrRhtC40Y4sINC60L7RgtC+0YDQsNGPINC30LDQv9C40YHRi9Cy0LDQtdGCINC30L3QsNGH0LXQvdC40Y8g0LIg0Y3Qu9C10LzQtdC90YLRiyDQv9C+0L/QsNC/0LAgXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soZGF0YSkgeyBwb3B1cEZ1bGxTY3JlZW4ub3BlbihkYXRhKSB9O1xuXG4vLyDRhNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuZnVuY3Rpb24gY3JlYXRlTmV3Q2FyZChkYXRhKSB7XG4gIHJldHVybiBuZXcgQ2FyZChcbiAgICBkYXRhLFxuICAgIFBBUkFNUy50ZW1wbGF0ZUNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlVG9nZ2xlTGlrZSxcbiAgICBoYW5kbGVPcGVuUG9wdXBXaXRoQ29uZmlybSxcbiAgICB1c2VySW5mby5nZXRVc2VySW5mbygpLm15SWRcbiAgKVxuICAgIC5jcmVhdGVDYXJkKCk7XG59O1xuLy8g0YTRg9C90LrRhtC40Y8g0LTQvtCx0LDQstC70Y/QtdGCINC60LDRgNGC0L7Rh9C60YMg0LIg0LzQsNGB0YHQuNCyIFxuZnVuY3Rpb24gYWRkQ2FyZChjYXJkKSB7XG4gIGNhcmRzTGlzdC5wcmVwZW5kKGNhcmQpO1xufVxuXG4vLyDQodC+0LfQtNCw0ZHQvCDRjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwINC/0L7Qv9Cw0L/QsCDQtNC70Y8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQulxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oaGFuZGxlU3VibWl0Q2FyZCwgUEFSQU1TLnBvcHVwQ2FyZFNlbGVjdG9yKTtcblxuLy8g0J7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gc3VibWl0INGE0L7RgNC80Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCBcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdENhcmQoZXZ0LCBkYXRhLCBidXR0b25TdWJtaXRUZXh0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICByZW5kZXJMb2FkaW5nKGNhcmRQb3B1cCwgdHJ1ZSwgYnV0dG9uU3VibWl0VGV4dClcbiAgYXBpLnNldENhcmQoZGF0YSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgYWRkQ2FyZChjcmVhdGVOZXdDYXJkKGRhdGEpKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGlzRXJyb3IoZXJyb3IpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwQWRkQ2FyZC5jbG9zZSgpO1xuICAgICAgcmVuZGVyTG9hZGluZyhjYXJkUG9wdXAsIGZhbHNlLCBidXR0b25TdWJtaXRUZXh0KTtcbiAgICB9KVxufTtcblxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIG9wZW5Qb3B1cENhcmQoKSB7XG4gIGZvcm1WYWxpZGF0ZUNhcmQuY2xlYXJFcnJvcnMoKTtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcbn07XG5cbi8vINCh0L7Qt9C00LDQvdC40LUg0YHQu9GD0YjQsNGC0LXQu9GPINC90LAg0LrQvdC+0L/QutC4INC+0YLQutGA0YvRgtC40Y8g0Lgg0YHQvtGF0YDQsNC90LXQvdC40Y8g0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IGJ1dHRvbk9wZW5BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQQVJBTVMuYnV0dG9uQWRkQ2FyZFNlbGVjdG9yKTtcbmJ1dHRvbk9wZW5BZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblBvcHVwQ2FyZCk7XG5cbi8vINCh0L7Qt9C00LDRkdC8INGN0LrQt9C10LzQv9C70Y/RgCDQutC70LDRgdGB0LAg0L/QvtC/0LDQv9CwINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oaGFuZGxlU3VibWl0UHJvZmlsZSwgUEFSQU1TLnBvcHVwUHJvZmlsZVNlbGVjdG9yKTtcblxuLy8g0J7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gc3VibWl0INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90Y8g0L/RgNC+0YTQuNC70Y9cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdFByb2ZpbGUoZXZ0LCBkYXRhLCBidXR0b25TdWJtaXRUZXh0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICByZW5kZXJMb2FkaW5nKHBvcHVwUHJvZmlsZSwgdHJ1ZSwgYnV0dG9uU3VibWl0VGV4dClcbiAgYXBpLnNldFVzZXJJbmZvKGRhdGEpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpXG4gICAgfSlcbiAgICAvLyAudGhlbigoKSA9PiBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKCkpXG4gICAgLmNhdGNoKChlcnJvcikgPT4gaXNFcnJvcihlcnJvcikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xuICAgICAgcmVuZGVyTG9hZGluZyhwb3B1cFByb2ZpbGUsIGZhbHNlLCBidXR0b25TdWJtaXRUZXh0KTtcbiAgICB9KVxufTtcblxuZnVuY3Rpb24gaGFuZGxlVG9nZ2xlTGlrZShkYXRhKSB7XG4gIGFwaS50b2dnbGVMaWtlQ2FyZChkYXRhKVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgZGF0YS5jYXJkLnNldExpa2VzKHJlc3BvbnNlLmxpa2VzKTtcbiAgICAgIGRhdGEuY2FyZC5fc2V0TGlrZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4geyBpc0Vycm9yKGVycm9yKSB9KVxufTtcblxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFBBUkFNUy5wb3B1cFByb2ZpbGVTZWxlY3Rvcik7XG5jb25zdCBwb3B1cFByb2ZpbGVGb3JtID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLmZvcm1TZWxlY3Rvcik7XG5cbmNvbnN0IGlucHV0UHJvZmlsZU5hbWUgPSBwb3B1cFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLmlucHV0UHJvZmlsZU5hbWUpO1xuY29uc3QgaW5wdXRQcm9maWxlQWJvdXQgPSBwb3B1cFByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLmlucHV0UHJvZmlsZUFib3V0KTtcblxuZnVuY3Rpb24gb3BlblBvcHVwUHJvZmlsZSgpIHtcbiAgY29uc3QgcHJvZmlsZUluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBpbnB1dFByb2ZpbGVOYW1lLnZhbHVlID0gcHJvZmlsZUluZm8ucHJvZmlsZU5hbWU7XG4gIGlucHV0UHJvZmlsZUFib3V0LnZhbHVlID0gcHJvZmlsZUluZm8ucHJvZmlsZUFib3V0O1xuICBmb3JtVmFsaWRhdGVQcm9maWxlLmNsZWFyRXJyb3JzKCk7XG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xufTtcblxuZnVuY3Rpb24gb3BlblBvcHVwQWRkQXZhdGFyKCkge1xuICBmb3JtVmFsaWRhdGVBdmF0YXIuY2xlYXJFcnJvcnMoKTtcbiAgcG9wdXBVcGRBdmF0YXIub3BlbigpO1xufVxuXG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihQQVJBTVMucHJvZmlsZVNlbGVjdG9yKTtcbmNvbnN0IGJ1dHRvbk9wZW5Qcm9maWxlID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFBBUkFNUy5wcm9maWxlQnV0dG9uQ29ycmVjdFNlbGVjdG9yKTtcbmJ1dHRvbk9wZW5Qcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblBvcHVwUHJvZmlsZSk7XG5jb25zdCBidXR0b25PcGVuVXBkQXZhdGFyID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFBBUkFNUy5wcm9maWxlQnV0dG9uVXBkQXZhdGFyU2VsZWN0b3IpO1xuYnV0dG9uT3BlblVwZEF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qb3B1cEFkZEF2YXRhcik7XG5cbmNvbnN0IGNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLnBvcHVwQ2FyZFNlbGVjdG9yKTtcbmNvbnN0IGNhcmRGb3JtID0gY2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLmZvcm1TZWxlY3Rvcik7XG5jb25zdCBhdmF0YXJQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLnBvcHVwVXBkYXRlQXZhdGFyKTtcbmNvbnN0IHBvcHVwVXBkQXZhdGFyRm9ybSA9IGF2YXRhclBvcHVwLnF1ZXJ5U2VsZWN0b3IoUEFSQU1TLmZvcm1TZWxlY3Rvcik7XG5cbmNvbnN0IGZvcm1WYWxpZGF0ZVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihQQVJBTVMsIHBvcHVwUHJvZmlsZUZvcm0pO1xuY29uc3QgZm9ybVZhbGlkYXRlQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKFBBUkFNUywgY2FyZEZvcm0pO1xuY29uc3QgZm9ybVZhbGlkYXRlQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoUEFSQU1TLCBwb3B1cFVwZEF2YXRhckZvcm0pXG5mb3JtVmFsaWRhdGVQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcbmZvcm1WYWxpZGF0ZUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xuZm9ybVZhbGlkYXRlQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcbiIsImNvbnN0IGNvbm5lY3QgPSB7XG4gICAgXCJiYXNlVXJsXCI6XG4gICAgICAgIFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC01NVwiLFxuICAgIFwiaGVhZGVyc1wiOiB7XG4gICAgICAgIFwiYXV0aG9yaXphdGlvblwiOiBcIjc5ZGVhMzE1LWY1MWEtNDJjMC04ZjdhLTE3ZjY0NWEwN2NiNFwiLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0OyJdLCJuYW1lcyI6WyJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRoaXMiLCJfcG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZSIsInRhcmdldCIsImNvbnRhaW5zIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJ0ZW1wbGF0ZUNhcmRTZWxlY3RvciIsInNwYW5FcnJvclNlbGVjdG9yIiwicG9wdXBQcm9maWxlU2VsZWN0b3IiLCJwb3B1cEJpZ1Bob3RvU2VsZWN0b3IiLCJwb3B1cENhcmRTZWxlY3RvciIsInBvcHVwQ2xvc2VTZWxlY3RvciIsInBvcHVwQ29uZmlybVNlbGVjdG9yIiwicG9wdXBVcGRhdGVBdmF0YXIiLCJwcm9maWxlU2VsZWN0b3IiLCJwcm9maWxlQnV0dG9uQ29ycmVjdFNlbGVjdG9yIiwicHJvZmlsZUJ1dHRvblVwZEF2YXRhclNlbGVjdG9yIiwiaW5wdXRQcm9maWxlTmFtZSIsImlucHV0UHJvZmlsZUFib3V0IiwiYnV0dG9uQWRkQ2FyZFNlbGVjdG9yIiwibGlzdENhcmRzU2VsZWN0b3IiLCJwcm9mYWxlTmFtZVNlbGVjdG9yIiwicHJvZmFsZUFib3V0U2VsZWN0b3IiLCJwcm9mYWxlQXZhdGFyU2VsZWN0b3IiLCJwb3B1cFBpY3R1cmVTZWxlY3RvciIsInBvcHVwUGljdHVyZVRleHRTZWxlY3RvciIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwUGljdHVyZSIsIlBBUkFNUyIsIl9wb3B1cFRleHQiLCJuYW1lIiwibGluayIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdENsaWNrIiwiX2hhbmRsZVN1Ym1pdENsaWNrIiwiX2lucHV0cyIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2Zvcm0iLCJfYnV0dG9uU3VibWl0Q3JlYXRlIiwiX2dldElucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsIlBvcHVwV2l0aENvbmZpcm0iLCJoYW5kbGVTdWJtaXREZWxldGVDYXJkIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVTdWJtaXREZWxldGVDYXJkIiwiX2NhcmQiLCJjYXJkIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsImFwcGVuZCIsIml0ZW1zIiwiY2FyZHMiLCJpdGVtIiwiQ2FyZCIsIm9iakNhcmQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVUb2dnbGVMaWtlIiwiaGFuZGxlT3BlblBvcHVwV2l0aENvbmZpcm0iLCJteUlkIiwiX2xpa2VzIiwibGlrZXMiLCJfaWRPd25lciIsIm93bmVyIiwiX2lkIiwiX2lkQ2FyZCIsIl9uYW1lIiwiX2xpbmsiLCJfbXlJZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlVG9nZ2xlTGlrZSIsIl9oYW5kbGVPcGVuUG9wdXBXaXRoQ29uZmlybSIsIl90ZW1wbGF0ZUNhcmRTZWxlY3RvciIsIl9jYXJkRWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9waG90byIsIl9oZWFydCIsIl9jb3VudF9saWtlcyIsIl9kZXNjcmlwdGlvbiIsIl9yZW1vdmVfYnV0dG9uIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInNvbWUiLCJfaXNNeUxpa2UiLCJfY291bnRMaWtlcyIsImFyckxpa2VzIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9tZXRob2RDYXJkTGlrZSIsImlkQ2FyZCIsIm1ldGhvZENhcmRMaWtlIiwiX3RvZ2dsZUxpa2UiLCJfc2V0TGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJwYXJhbXMiLCJmb3JtRWxlbWVudCIsIl9wYXJhbXMiLCJfZm9ybUVsZW1lbnQiLCJfZXJyb3JMaXN0IiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJpZCIsIl9hZGRDbGFzc0Vycm9yIiwiX2FkZFZhbGlkYXRpb25FcnJvcnMiLCJfcmVtb3ZlQ2xhc3NFcnJvciIsIl9yZW1vdmVWYWxpZGF0aW9uRXJyb3JzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInByZXZlbnREZWZhdWx0IiwiVXNlckluZm8iLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUFib3V0U2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZUFib3V0IiwiX3Byb2ZpbGVBdmF0YXIiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVBYm91dCIsImFib3V0IiwiaW5mbyIsInNldFVzZXJJbmZvIiwicmVuZGVyQXZhdGFyIiwiYXZhdGFyIiwiY29ubmVjdCIsIl9jb25uZWN0IiwicmVzdWx0Iiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwiYmFzZVVybCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aGVuIiwiX29uRXJyb3IiLCJhbGwiLCJnZXRVc2VyIiwiZ2V0SW5pdGlhbENhcmRzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW5kZXJMb2FkaW5nIiwicG9wdXAiLCJpc1Byb2Nlc3MiLCJidXR0b25TdWJtaXRUZXh0IiwidXNlckluZm8iLCJjYXJkc0xpc3QiLCJjYXJkTGlzdCIsImRhdGEiLCJhZGRJdGVtIiwiY3JlYXRlTmV3Q2FyZCIsImlzRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhcGkiLCJBcGkiLCJnZXRJbml0aWFsRGF0YSIsInJlbmRlclVzZXJJbmZvIiwicmVuZGVySXRlbXMiLCJjYXRjaCIsInBvcHVwVXBkQXZhdGFyIiwiYXZhdGFyUG9wdXAiLCJzZXRBdmF0YXIiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cEZ1bGxTY3JlZW4iLCJwb3B1cENvbmZpcm1EZWxldGVDYXJkIiwib3BlbiIsImRlbGV0ZUNhcmQiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJnZXRVc2VySW5mbyIsImNyZWF0ZUNhcmQiLCJwb3B1cEFkZENhcmQiLCJjYXJkUG9wdXAiLCJzZXRDYXJkIiwicHJlcGVuZCIsImZvcm1WYWxpZGF0ZUNhcmQiLCJjbGVhckVycm9ycyIsInBvcHVwRWRpdFByb2ZpbGUiLCJwb3B1cFByb2ZpbGUiLCJ0b2dnbGVMaWtlQ2FyZCIsInNldExpa2VzIiwicG9wdXBQcm9maWxlRm9ybSIsInByb2ZpbGUiLCJwcm9maWxlSW5mbyIsImZvcm1WYWxpZGF0ZVByb2ZpbGUiLCJmb3JtVmFsaWRhdGVBdmF0YXIiLCJjYXJkRm9ybSIsInBvcHVwVXBkQXZhdGFyRm9ybSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9